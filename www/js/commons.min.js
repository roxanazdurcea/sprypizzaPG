webpackJsonp([2],{

/***/ 12:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = {
    name: 'shoppingcart',
    computed: {
        cartTotal: function () {
            var total = 0;
            this.items.forEach(function (item) {
                total += parseFloat(item.price);
                if (_.has(item, 'extras')) {
                    item.extras.forEach(function (extra) {
                        total += parseFloat(extra.price);
                    });
                }
            });
            return total;
        },
        cartActive: function () {
            return Store.state.cartActive;
        },
        items: function () {
            return Store.state.items;
        },
        imageURL: function () {
            return Store.state.imageURL;
        },
        currency: function () {
            return Store.state.currency;
        }
    },
    methods: {
        openMod: function (event) {
            this.closeMod();
            var ele = event.target;
            ele.closest('div').classList.add("open");
        },
        closeMod: function () {
            var btngroups = document.getElementsByClassName("btn-group");
            _.each(btngroups, function (ele) {
                ele.classList.remove("open");
            });
        },
        clearCart: function () {
            localStorage.clear();
            Store.commit('clearItems');
        },
        closeCart: function () {
            Store.commit('setCartActive', false);
        },
        rmItem: function (idx) {
            Store.commit('removeItem', idx);
        },
        rmExtra: function (idx, extras_idx) {
            Store.commit('removeExtra', idx, extras_idx);
        },
        checkout: function () {
            var itemsArray = {};
            itemsArray.items = _.clone(this.items);
            itemsArray.total = this.cartTotal;
            localStorage.setItem('cart', JSON.stringify(itemsArray));
        },
        listModifiers: function (idx) {
            var item_id = this.items[idx]['id'];

            this.$http.post('https://sprypizza.com/api/modifiers', {
                item_id: item_id
            }).then(function (data) {

                var response = data.body.response;

                var items = _.clone(this.items);

                items[idx]['modifiers']['modifiers_free'] = [];
                items[idx]['modifiers']['modifiers_add'] = [];
                items[idx]['modifiers']['modifiers_delete'] = [];

                response.forEach(function (obj) {
                    switch (obj.modifier_type) {
                        case "free":
                            items[idx]['modifiers']['modifiers_free'].push(obj);
                            break;
                        case "add":
                            items[idx]['modifiers']['modifiers_add'].push(obj);
                            break;
                        case "delete":
                            items[idx]['modifiers']['modifiers_delete'].push(obj);
                            break;
                    }
                }.bind(this));

                items[idx]['modifiers']['showFreeModifiers'] = items[idx]['modifiers']['modifiers_free'].length > 0 ? true : false;
                items[idx]['modifiers']['showAddModifiers'] = items[idx]['modifiers']['modifiers_add'].length > 0 ? true : false;
                items[idx]['modifiers']['showDeleteModifiers'] = items[idx]['modifiers']['modifiers_delete'].length > 0 ? true : false;

                Store.commit('setItems', items);
            });
        },
        addModifier: function (modifier, idx) {
            var items = _.clone(this.items);
            items[idx]['extras'].push(modifier);
            items[idx]['modifiers']['showAddModifiers'] = items[idx]['modifiers']['showFreeModifiers'] = items[idx]['modifiers']['showDeleteModifiers'] = false;

            Store.commit('setItems', items);
            this.closeMod();
        }

    },
    mounted: function () {
        var items = localStorage.getItem('cart');
        if (items) {
            var items = JSON.parse(items)['items'];
            Store.commit('setItems', items);
        }
    },
    updated: function () {
        var itemsArray = {};
        itemsArray.items = _.clone(this.items);
        itemsArray.total = this.cartTotal;
        localStorage.setItem('cart', JSON.stringify(itemsArray));
        var count = this.items.length;
        Store.commit('setItemCount', count);
    }
};

/***/ }),

/***/ 21:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(2)();
// imports


// module
exports.push([module.i, "\n.borderB {\n  border-bottom: 1px solid #eaeaea;\n  margin-bottom: 10px;\n  margin-right: 10px;\n}\n.cart-content {\n  border: 5px #ddd solid;\n  background: #FFF;\n  color: #303030;\n}\n.button {\n  border: 0px;\n}\n.color-red {\n  background-color: #D12027;\n  color: #fff;\n}\n.button a:focus,\na:hover {\n  color: #fff;\n  text-decoration: none;\n}\n.color-orange {\n  background-color: #F9A153;\n  color: #fff;\n}\np {\n  font-family: \"Open Sans\", sans-serif;\n  font-weight: 400;\n}\nh1 {\n  font-family: Archer, \"Cormorant Garamond\", Vollkorn, \"Old Standard TT\", \"Times New Roman\", serif;\n  margin-bottom: 25px;\n  font-weight: normal;\n}\nh4 {\n  font-family: \"Open Sans\", sans-serif;\n  font-weight: 400;\n  letter-spacing: 0px;\n}\n.modifiers:nth-child(3) .dropdown-menu {\n  text-align: right;\n}\n/*.dropdown-menu {*/\n/*min-width: 100%;*/\n/*}*/\nhr {\n  margin-top: 15px;\n  margin-bottom: 15px;\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.product-preview-small {\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  list-style: none;\n}\n@media (max-width: 769px) {\n.cart-content h1 {\n    font-size: 1.6rem;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.cart-content h4 {\n    vertical-align: middle;\n    font-size: 1.8rem;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.cart-content p {\n    font-size: 1.4rem;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n}\n@media (max-width: 991px) {\n.product-preview-small li {\n    list-style: none;\n}\n}\n.itemsWrap {\n  width: 100%;\n}\n.cart-product-row {\n  display: table;\n  width: 100%;\n}\n.cart-product-title {\n  width: 70%;\n  margin: 0;\n  vertical-align: middle;\n}\n.cart-product-price {\n  display: table-cell;\n  width: 10%;\n  margin: 0;\n  vertical-align: middle;\n}\n.cart-icons {\n  display: table-cell;\n  width: 20%;\n  text-align: right;\n}\n.icon-plus {\n  float: right;\n}\n.icon-minus {\n  float: right;\n  color: #D12027;\n}\n", ""]);

// exports


/***/ }),

/***/ 29:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    class: {
      'active': _vm.cartActive
    },
    attrs: {
      "id": "cart"
    }
  }, [_c('div', {
    staticClass: "cart-content"
  }, [_c('form', {
    staticStyle: {
      "padding": "3%"
    }
  }, [_c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.items.length === 0),
      expression: "items.length === 0"
    }]
  }, [_c('h1', [_vm._v("Your cart is empty!")]), _vm._v(" "), _c('h5', [_vm._v("Hurry up and fill it with goodies!")])]), _vm._v(" "), _c('ul', {
    staticClass: "product-preview-small itemsWrap",
    staticStyle: {
      "padding-left": "0px"
    }
  }, _vm._l((_vm.items), function(item, idx) {
    return _c('li', {
      class: {
        borderB: idx < _vm.items.length - 1
      },
      staticStyle: {
        "width": "100%"
      }
    }, [_c('div', {
      staticClass: "cart-product-row"
    }, [_c('div', {
      staticClass: "cart-product-title"
    }, [_c('h4', [_c('b', [_vm._v(_vm._s(item.name))])])]), _vm._v(" "), _c('div', {
      staticClass: "cart-product-price"
    }, [_c('p', {
      staticStyle: {
        "margin-bottom": "0px"
      }
    }, [_c('b', [_vm._v(_vm._s(_vm.currency) + _vm._s(item.price))])])]), _vm._v(" "), _c('div', {
      staticClass: "cart-icons"
    }, [_c('div', {
      staticClass: "icon-minus",
      staticStyle: {
        "margin-left": "5px"
      },
      on: {
        "click": function($event) {
          _vm.rmItem(idx)
        }
      }
    }, [_c('i', {
      staticClass: "f7-icons"
    }, [_vm._v("delete_round_fill")])]), _vm._v(" "), _c('div', {
      staticClass: "icon-plus",
      on: {
        "click": function($event) {
          _vm.listModifiers(idx)
        }
      }
    }, [_c('i', {
      staticClass: "f7-icons"
    }, [_vm._v("add_round_fill")])])])]), _vm._v(" "), _vm._l((item.extras), function(extra, extras_idx) {
      return _c('div', {
        staticClass: "cart-product-row"
      }, [_c('div', {
        staticClass: "cart-product-title"
      }, [_c('ul', [_c('li', [_c('p', [_vm._v(_vm._s(extra.name))])])])]), _vm._v(" "), _c('div', {
        staticClass: "cart-product-price"
      }, [_c('b', [_vm._v(_vm._s(_vm.currency) + _vm._s(extra.price))]), _c('p')]), _vm._v(" "), _c('div', {
        staticClass: "cart-icons"
      }, [_c('div', {
        staticClass: "icon-minus",
        on: {
          "click": function($event) {
            _vm.rmExtra(idx, extras_idx)
          }
        }
      }, [_c('i', {
        staticClass: "f7-icons"
      }, [_vm._v("delete_round_fill")])])])])
    }), _vm._v(" "), _c('div', {
      staticStyle: {
        "display": "table",
        "width": "100%",
        "margin-top": "2%"
      }
    }, [_c('div', {
      staticStyle: {
        "display": "table-cell",
        "vertical-align": "middle",
        "width": "100%",
        "padding-bottom": "5px"
      }
    }, [_c('div', {
      staticClass: "modifiers buttons-row"
    }, [_c('div', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (item.modifiers.showFreeModifiers),
        expression: "item.modifiers.showFreeModifiers"
      }],
      staticClass: "btn-group",
      staticStyle: {
        "width": "32%"
      }
    }, [_c('button', {
      staticClass: "btn btn-default btn-large",
      staticStyle: {
        "width": "100%"
      },
      attrs: {
        "type": "button"
      },
      on: {
        "click": _vm.openMod
      }
    }, [_c('i', {
      staticClass: "fa fa-check-square",
      attrs: {
        "aria-hidden": "true"
      }
    }), _vm._v(" Free\n                                    ")]), _vm._v(" "), _c('ul', {
      staticClass: "dropdown-menu",
      staticStyle: {
        "padding": "10px"
      }
    }, _vm._l((item.modifiers.modifiers_free), function(modifier) {
      return _c('li', {
        staticStyle: {
          "cursor": "pointer"
        },
        on: {
          "click": function($event) {
            _vm.addModifier(modifier, idx)
          }
        }
      }, [_c('span', [_vm._v(_vm._s(modifier.name))]), _c('span', {
        staticStyle: {
          "float": "right"
        }
      }, [_vm._v(_vm._s(_vm.currency) + _vm._s(modifier.price))])])
    }))]), _vm._v(" "), _c('div', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (item.modifiers.showAddModifiers),
        expression: "item.modifiers.showAddModifiers"
      }],
      staticClass: "btn-group",
      staticStyle: {
        "width": "32%"
      }
    }, [_c('button', {
      staticClass: "btn btn-default btn-large",
      staticStyle: {
        "width": "100%"
      },
      attrs: {
        "type": "button"
      },
      on: {
        "click": _vm.openMod
      }
    }, [_c('i', {
      staticClass: "fa fa-plus-square",
      attrs: {
        "aria-hidden": "true"
      }
    }), _vm._v(" Add\n                                    ")]), _vm._v(" "), _c('ul', {
      staticClass: "dropdown-menu",
      staticStyle: {
        "padding": "10px"
      }
    }, _vm._l((item.modifiers.modifiers_add), function(modifier) {
      return _c('li', {
        staticStyle: {
          "cursor": "pointer"
        },
        on: {
          "click": function($event) {
            _vm.addModifier(modifier, idx)
          }
        }
      }, [_c('span', [_vm._v(_vm._s(modifier.name))]), _c('span', {
        staticClass: "pull-right"
      }, [_vm._v(_vm._s(_vm.currency) + _vm._s(modifier.price))])])
    }))]), _vm._v(" "), _c('div', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (item.modifiers.showDeleteModifiers),
        expression: "item.modifiers.showDeleteModifiers"
      }],
      staticClass: "btn-group",
      staticStyle: {
        "width": "32%"
      }
    }, [_c('button', {
      staticClass: "btn btn-default btn-large",
      staticStyle: {
        "width": "100%"
      },
      attrs: {
        "type": "button"
      },
      on: {
        "click": _vm.openMod
      }
    }, [_c('i', {
      staticClass: "fa fa-minus-square",
      attrs: {
        "aria-hidden": "true"
      }
    }), _vm._v(" Substract\n                                    ")]), _vm._v(" "), _c('ul', {
      staticClass: "dropdown-menu",
      staticStyle: {
        "padding": "10px"
      }
    }, _vm._l((item.modifiers.modifiers_delete), function(modifier) {
      return _c('li', {
        staticStyle: {
          "cursor": "pointer"
        },
        on: {
          "click": function($event) {
            _vm.addModifier(modifier, idx)
          }
        }
      }, [_c('span', [_vm._v(_vm._s(modifier.name))]), _c('span', {
        staticClass: "pull-right"
      }, [_vm._v(_vm._s(_vm.currency) + _vm._s(modifier.price))])])
    }))])])])])], 2)
  }))]), _vm._v(" "), _c('hr'), _vm._v(" "), _c('div', {
    staticStyle: {
      "padding": "5%"
    }
  }, [_c('div', [_c('h4', {
    staticClass: "text-center product-title"
  }, [_c('b', [_vm._v("TOTAL " + _vm._s(_vm.currency) + _vm._s(_vm.cartTotal))])]), _vm._v(" "), _c('p', {
    staticClass: "text-center",
    staticStyle: {
      "padding-top": "5px",
      "padding-bottom": "5px"
    }
  }, [_vm._v("VAT\n                    " + _vm._s(_vm.currency) + _vm._s(Math.round(0.20 * _vm.cartTotal * 100) / 100))])]), _vm._v(" "), _c('div', {
    staticClass: "row"
  }, [_c('div', {
    staticClass: "col-50",
    on: {
      "click": function($event) {
        _vm.clearCart()
      }
    }
  }, [_c('a', {
    staticClass: "button button-big color-red",
    attrs: {
      "href": "#"
    }
  }, [_vm._v("Clear cart")])]), _vm._v(" "), _c('div', {
    staticClass: "col-50",
    on: {
      "click": function($event) {
        _vm.checkout()
      }
    }
  }, [_c('a', {
    staticClass: "button button-big color-orange",
    attrs: {
      "href": "#"
    }
  }, [_vm._v("Checkout")])])])])])])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-75fdb94c", module.exports)
  }
}

/***/ }),

/***/ 34:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(21);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(3)("59259f9a", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-75fdb94c!../../../node_modules/less-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./cart.vue", function() {
     var newContent = require("!!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-75fdb94c!../../../node_modules/less-loader/index.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./cart.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 39:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_resource__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_resource___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_resource__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vues_cart_cart_vue__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vues_cart_cart_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__vues_cart_cart_vue__);
window._ = __webpack_require__(4);
window.Vue = __webpack_require__(6);

window.Vue.use(__WEBPACK_IMPORTED_MODULE_0_vuex___default.a);

window.Vue.use(__WEBPACK_IMPORTED_MODULE_1_vue_resource___default.a);

window.Events = new Vue();



window.Store = new __WEBPACK_IMPORTED_MODULE_0_vuex___default.a.Store({
    state: {
        cartActive: false,
        itemCount: 0,
        group_id: 71,
        items: [],
        imageURL: "https://sprypizza.com/assets/images/menu/",
        currency: "$"
    },
    mutations: {
        setGroupId: function (state, group_id) {
            state.group_id = group_id;
        },
        setItems: function (state, items) {
            state.items = items;
        },
        addItem: function (state, item) {
            var len = state.items.length;
            state.items.splice(len, 0, item);
        },
        setCartActive: function (state, cartActive) {
            state.cartActive = cartActive;
        },
        clearItems: function (state) {
            state.items = [];
        },
        removeItem: function (state, idx) {
            state.items.splice(idx, 1);
        },
        removeExtra: function (state, idx, extras_idx) {
            state.items[idx]['extras'].splice(extras_idx, 1);
        },
        setItemCount: function (state, itemCount) {
            state.itemCount = itemCount;
        },
        toggleCartActive: function (state) {
            state.cartActive = !state.cartActive;
        }
    },
    getters: {}
});

//Cart instance
new Vue({
    el: "#cart-container",
    http: {
        emulateJSON: true,
        emulateHTTP: true
    },
    components: {
        shoppingcart: __WEBPACK_IMPORTED_MODULE_2__vues_cart_cart_vue___default.a
    }
});

/***/ }),

/***/ 7:
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(34)

var Component = __webpack_require__(1)(
  /* script */
  __webpack_require__(12),
  /* template */
  __webpack_require__(29),
  /* scopeId */
  null,
  /* cssModules */
  null
)
Component.options.__file = "D:\\ownCloud\\Phonegap Projects\\sprypizzaPG\\src\\vues\\cart\\cart.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] cart.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-75fdb94c", Component.options)
  } else {
    hotAPI.reload("data-v-75fdb94c", Component.options)
  }
})()}

module.exports = Component.exports


/***/ })

},[39]);